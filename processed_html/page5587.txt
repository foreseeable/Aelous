Hill House Cottages - Hill House Barn (ref W43888) in West Caister, near Great Yarmouth, Norfolk | cottages.com Sorry but we're unable to find your location. Please enter your postcode or location below to help us: We're sorry, there is has been an error. Please check your postcode and try again. Get away for less this weekend The hottest deals with the latest availability Big discounts on bubbling breaks You haven't shortlisted any properties yet.  > Use the <span class="c-pink icon-heart-open-b">< span> icons to add them here. You've shortlisted  0 logo-outline magnifying glass icon  Only properties that allow pets will be shown  @';:#~!£$()|[\]\\]/g, ''); // santiseif (m_oFreeTextInput.getAttribute('data-directLink') === 'true') { // is a direct link to a site or accommodationbUseDefaultURL = false;sSearchUrl = '/' + sConfigRoute + sFreeTextDataURL.replace(/^\//, ""); // replace only the first character if it is a '/';if (m_isCatCPartner){sSearchUrl = '/' + sConfigRoute +  sFreeTextDataURL +  '?adult=' + sAdultNum + ' =' + sChildNum + ' =' + sBabyNum + ' =' + sPetNum + ' =' + sDuration + ' =' + sFlexibility} else {sSearchUrl += '?adult=' + sAdultNum + ' =' + sChildNum + ' =' + sBabyNum + ' =' + sPetNum + ' =' + sDuration + ' =' + sFlexibility;}if (!m_bNonDatedSearch  & &  sSearchDate !== 'null') { // append start datesSearchUrl += ' =' + sSearchDate;}} else { // is either an RHS returned result or a geo resultif (sFreeTextDataURL  & &  sFreeTextDataURL !== '') { // has a data url, use that for navigationif (m_isCatCPartner){sSearchUrl = '/' + sConfigRoute + sFreeTextDataURL} else {sSearchUrl = '/' + sConfigRoute + sFreeTextDataURL.replace(/^\//, ""); // remove first '/'}if (m_oFreeTextInput.getAttribute('data-geoSearch')) {bUseDefaultURL = false;if (m_isCatCPartner){sSearchUrl = '/' + sConfigRoute + '/' + m_oRegionRootSelect.getAttribute('data-url') + sFreeTextDataURL;} else {// append the site to the start of the url for geo searchsSearchUrl = '/' + m_oRegionRootSelect.getAttribute('data-url') + sSearchUrl.replace(/^\//, ""); // remove first '/'sSearchUrl += ' =' + sAdultNum + ' =' + sChildNum + ' =' + sBabyNum + ' =' + sPetNum + ' =' + sDuration + ' =' + sFlexibility;}if (!m_bNonDatedSearch) { // append start datesSearchUrl += ' =' + sSearchDate;}}} else { // has no data url, therefore create the url from the label (fallback default)sSearchUrl = '/' + sConfigRoute + m_oRegionRootSelect.getAttribute('data-url') + '/' + createURLFromLabel(m_oFreeTextInput.getAttribute('data-value').trim());}}}}if (bUseDefaultURL) {var bIsUsingRadiiList = m_aoRadiiList !== null  & &  m_aoRadiiList.length > 0;if(bIsUsingRadiiList  & &  m_oFreeTextInput.value !== "") {for(var i = 0; i  <  m_aoRadiiList.length; i++) {var sName = m_aoRadiiList[i].name;if(m_oFreeTextInput.value.indexOf(sName) > -1 || m_oFreeTextInput.value === sName) {var oMatch = m_aoRadiiList[i];sSearchUrl = "all-regions?lat=" + oMatch.lat + " =" + oMatch.lng + " =" + oMatch.name.replace("!", "").trim() + " =" + oMatch.miles;}}}sSearchUrl += getQueryStartChar(bIsUsingRadiiList ? sSearchUrl : sDestination) + 'adult=' + sAdultNum + ' =' + sChildNum + ' =' + sBabyNum + ' =' + sPetNum + ' =' + sDuration + ' =' + sFlexibility;if (!m_bNonDatedSearch) { // append start datesSearchUrl += ' =' + sSearchDate;}}sSearchUrl = appendQuickFilters(sSearchUrl);if (bAllRegionSearch  & &  bIsRHSSearch) { // all region and RHS searches onlysSearchUrl = appendRHSFeatures(sSearchUrl);}sSearchUrl = appendURLFilters(sSearchUrl);sSearchUrl = appendSortOrder(sSearchUrl);// CDC functionality onlyif(window.location.host.split(".")[1] === "cottages") {if(!!document.getElementById("gsw-free-text-search").getAttribute("data-geosearch")) {sSearchUrl = sSearchUrl.replace(/^\/[\w]+/, encodeURI(sSearchUrl.match(/[? & ]location=([^ &# ]*)/i)[1]));}}// Store search (if search retention is on)// Region root retention still to doif (m_bUseSearchRetention) {storeSearch({'destination': m_oOptions.enableFreeTextSearch ? FreeTextSearchHandler.getDestinationSearchData() : getDestinationSearchData(),'adult': sAdultNum,'child': sChildNum,'infant': sBabyNum,'pets': sPetNum,'nights': sDuration,'range': sFlexibility,'start': !m_bNonDatedSearch ? sSearchDate : 'null','url': sSearchUrl});}// Conduct searchwindow.location = sSearchUrl;}function handleDestinationSearchRetention() {if (m_bUseSearchRetention) {if (m_oOptions.enableFreeTextSearch) {FreeTextSearchHandler.setDestinationFromStoredSearch();} else {setDestinationFromStoredSearch();}}}function storeSearch(oSearchData) {if (!m_bUseSearchRetention) {return false;}oSearchData.timestamp = new Date().getTime();localStorage.setItem('retained-search', JSON.stringify(oSearchData));}function getStoredSearch() {var sSearchData = localStorage.getItem('retained-search');if (sSearchData) {var oSearchData = JSON.parse(sSearchData);if (!getHasRetainedSearchExpired(oSearchData)) {return oSearchData;}}return null;}function getHasRetainedSearchExpired(oSearchData) {// Check the age of the retained search data// Get time difference in daysvar fPrevTimestamp = oSearchData.timestamp,fNowTimestamp = new Date().getTime(),iTimeDiffSecs = parseInt((fNowTimestamp - fPrevTimestamp) / 1000),iTimeDiffDays = Math.floor(iTimeDiffSecs / (3600 * 24));// Check timestampif (iTimeDiffDays >= NUM_DAYS_BEFORE_RETENTION_IS_CLEARED) {// Clear search informaion from local storage if it was stored X number of days agolocalStorage.removeItem('retained-search');return true;} else {return false;}}function getStoredSearchValue(sProp) {var oSearchData = getStoredSearch();// Attempt to get value from urlif (getParameterByName(sProp)  & &  sProp !== 'destination'  & &  sProp !== 'url') {return getParameterByName(sProp);// Attempt to get value from local storage} else if (oSearchData  & &  oSearchData[sProp]) {return oSearchData[sProp];// Value not found} else {return null;}}function getDestinationSearchData() {return {'data-value': m_oRegionSelect.getAttribute('data-value'),'value': m_oRegionSelect.getAttribute('data-value'),'data-url': m_oRegionSelect.getAttribute('data-url'),'isFreeText': m_oRegionSelect.getAttribute('data-using-defaultRegionID') === 'true' ? true : false,'useDefaultRegionID': m_oRegionSelect.getAttribute('data-using-defaultRegionID') === 'true' ? true : false};}function setDestinationFromStoredSearch() {// Set selected value in destination drop downvar oDestination = getStoredSearchValue('destination');if (!oDestination) { return false; }if (oDestination.isFreeText) { return false; }// Check data-url is storedvar vDataURL = oDestination['data-url'];var vDataValue = oDestination['data-value'];var vDataValueUrlFormatted = vDataValue.replace(/ &  /g, '').replace(/ /g, '-').toLowerCase();if (vDataURL  & &  vDataURL !== '') {// Check stored url is present in window locationif (window.location.href.indexOf(vDataURL) !== -1) {// Update destination dropdown selectionif (vDataValue) {if (m_oRegionSelect.querySelector('span')) {m_oRegionSelect.querySelector('span').innerHTML = vDataValue;} else {m_oRegionSelect.innerHTML = vDataValue;}}if (vDataValue) {m_oRegionSelect.setAttribute('data-value', vDataValue);}if (oDestination['data-url']) {m_oRegionSelect.setAttribute('data-url', oDestination['data-url']);}if (oDestination['useDefaultRegionID']) {m_oRegionSelect.setAttribute('data-using-defaultRegionID', 'true');}}} else if (vDataValue  & &  vDataValue !== '') {// attempt to retain for searches without data-url// checked stored value is in URLif (window.location.href.indexOf(vDataValueUrlFormatted) > -1) {// using set timeout while being tested in Target, may need to look at another way to resolve timing issue once liveif (m_oRegionSelect.querySelector('span')) {m_oRegionSelect.querySelector('span').innerHTML = vDataValue;} else {m_oRegionSelect.innerHTML = vDataValue;}m_oRegionSelect.setAttribute('data-value', vDataValue);m_oRegionSelect.setAttribute('data-url', vDataValueUrlFormatted);}}}function appendQuickFilters(sSearchUrl) {var oaCheckedCheckboxes = document.querySelectorAll('.filter-checkbox input:checked'),aSelectedBoxes = [];if (oaCheckedCheckboxes  & &  oaCheckedCheckboxes.length > 0) {var sCode;for (var i = 0; i  <  oaCheckedCheckboxes.length; i++) {sCode = oaCheckedCheckboxes[i].value;aSelectedBoxes.push(sCode);}sSearchUrl = sSearchUrl + ' =1 =' + aSelectedBoxes;}return sSearchUrl;}function appendRHSFeatures(sSearchUrl) {var iFeatureId = null;// Search for the selected region data in the RHS data, look for a featureId property on the regionRoot, if exists, add to urlfor (var i = 0; i  <  m_oaRHSData.length; i++) {if (parseInt(m_oaRHSData[i].regionRoot.id, 10) === parseInt(m_oRegionRootSelect.value, 10)) {if (m_oaRHSData[i].regionRoot.hasOwnProperty('featureId')) {iFeatureId = m_oaRHSData[i].regionRoot.featureId;}break;}}if (iFeatureId) {if (sSearchUrl.indexOf('features=') > -1) { // already has featuressSearchUrl = String(sSearchUrl + ',' + iFeatureId);} else { // does not already have featuressSearchUrl = String(sSearchUrl + ' =1 =' + iFeatureId);}}return sSearchUrl;}function appendURLFilters(sSearchUrl) {var bCanAddFilters = true;// Add the brand check for Hoseasons only, this is due to different brands having different codes for the same featuresif (window.location.href.indexOf('www.hoseasons.co.uk')) {if (m_oRegionRootSelect.value !== m_sinitialCachedBrand) {bCanAddFilters = false;}}if (bCanAddFilters) {sSearchUrl = appendURLFeatures(sSearchUrl, 'bedroom'); // get bedroom from the URLsSearchUrl = appendURLFeatures(sSearchUrl, 'sleeps'); // get sleeps from the URLsSearchUrl = appendURLFeatures(sSearchUrl, 'pricerange'); // get pricerange from the URLsSearchUrl = appendURLFeatures(sSearchUrl, 'features'); // get features from the URLsSearchUrl = appendURLFeatures(sSearchUrl, 'acctype'); // get acctype from the URLsSearchUrl = appendURLFeatures(sSearchUrl, 'rating'); // get rating from the URL}return sSearchUrl;}function appendURLFeatures(sSearchUrl, sFeatureType) {var sURLFeatures = '',sVars = window.location.search.substring(1).split(" & "),sPair = '';for (var i = 0; i  <  sVars.length; i++) {sPair = sVars[i].split("=");if (sPair[0] === sFeatureType) {if (sURLFeatures !== '') {sURLFeatures = ',' + sURLFeatures + sPair[1];} else {sURLFeatures = sURLFeatures + sPair[1];}}}if (sURLFeatures !== '') {if (sSearchUrl.indexOf(sFeatureType + '=') > -1) { // already has featuresSearchUrl = String(sSearchUrl + ',' + sURLFeatures);} else { // does not already have featuresif (sSearchUrl.indexOf('fshow=') > -1) { // already has fshowsSearchUrl = String(sSearchUrl + ' & ' + sFeatureType + '=' + sURLFeatures);} else {sSearchUrl = String(sSearchUrl + ' =1 & ' + sFeatureType + '=' + sURLFeatures);}}}return sSearchUrl;}function appendSortOrder(sSearchUrl) {// append sort order if present in the APIif (m_oOptions.hasOwnProperty('sortOrder')) {sSearchUrl = String(sSearchUrl + ' =' + m_oOptions.sortOrder);}return sSearchUrl;}function getQueryStartChar(sDestination) {// if the destination url contains the query start char (?) return ( & )if (sDestination.indexOf('?') === -1) {return '?'}return ' & ';}function getParameterByName(variable) {// used mainly for search retentionvar query = window.location.search.substring(1);var vars = query.split(" & ");for (var i = 0; i  <  vars.length; i++) {var pair = vars[i].split("=");if (pair[0] == variable) {return pair[1];}}return false;}// **************************************************************************************// RHS Data Handlingfunction createRegionListOptions() {// Dynamically create region root select options from RHS datavar sMarkup = '',sRegionRootURL = null,oFirstListItem = null;for (var i = 0; i  <  m_oaRHSData.length; i++) {// Handle optional regionRoot urlsRegionRootURL = getRegionRootURL(m_oaRHSData[i]);sMarkup += '  -1) {oFirstListItem = !!m_oaRHSData[i].regions[0].list ? m_oaRHSData[i].regions[0].list[0] : m_oaRHSData[i].regions[0].parent} else {oFirstListItem = m_oaRHSData[i].regions[0].list[0];}// if the first item in each region has an all regions list option, add the url for that into the optionif (oFirstListItem  & &  oFirstListItem.label.toLowerCase().trim() === 'all regions') { // has an all regions propertyif (oFirstListItem.hasOwnProperty('url')) { // add data-all-regions-url into the option markupsenseCheckDataProperty(oFirstListItem, 'oFirstListItem', 'url', 'string');sMarkup += '" data-all-regions-url="' + oFirstListItem.url + '"';}}sMarkup += '>' + m_oaRHSData[i].regionRoot.label + ' ';}// add options markup, this may cause flicker if setting a different option belowm_oRegionRootSelect.innerHTML = sMarkup;if (m_oOptions.hasOwnProperty('defaultRegionRootId')) {senseCheckDataProperty(m_oOptions, 'm_oOptions', 'defaultRegionRootId', 'number');m_oRegionRootSelect.value = m_oOptions.defaultRegionRootId;setRegionSelectDataUrlFromId(String(m_oRegionRootSelect.value));} else {// set default value to the first option idm_oRegionRootSelect.value = m_oaRHSData[0].regionRoot.id;// Handle optional regionRoot urlsRegionRootURL = getRegionRootURL(m_oaRHSData[0]);m_oRegionRootSelect.setAttribute('data-url', sRegionRootURL);}}function buildRHSMarkup() {// create containerm_oRegionsContainer = document.createElement('div');m_oRegionsContainer.id = 'regionsContainer';m_oRegionsContainer.style.display = 'none';var sMarkup = '';m_oRegions = document.createElement('ul');m_oRegions.id = 'regions';if (m_bRHSAsDropdownClass !== '') {m_oRegions.classList.add(m_bRHSAsDropdownClass);}for (var i = 0; i  <  m_oaRHSData.length; i++) {sMarkup += buildRegionContainer(m_oaRHSData[i]);}m_oRegions.innerHTML = sMarkup;m_oRegionsContainer.appendChild(m_oRegions);// add cancel buttonvar oCancelBtn = document.createElement('div');oCancelBtn.className = 'mobile-region-cancel no-dt';oCancelBtn.innerHTML = ' Done ';m_oRegionsContainer.appendChild(oCancelBtn);document.getElementsByClassName('global-search-widget-inner')[0].appendChild(m_oRegionsContainer);}function buildRegionContainer(oRHSSection) {var sMarkup = '';// sense check datasenseCheckDataProperty(oRHSSection, 'oRHSSection', 'regionRoot', 'object');senseCheckDataProperty(oRHSSection.regionRoot, 'oRHSSection.regionRoot', 'label', 'string');if (oRHSSection.regionRoot.hasOwnProperty('url')) { // optional url (when omitted, url is created from the label using normal rules)senseCheckDataProperty(oRHSSection.regionRoot, 'oRHSSection.regionRoot', 'url', 'string');}senseCheckDataProperty(oRHSSection.regionRoot, 'oRHSSection.regionRoot', 'id', 'number');senseCheckDataProperty(oRHSSection, 'oRHSSection', 'regions', 'array');// end sense check data// Build gsw-region-container lisMarkup += ' ';// Loop build regionssMarkup += buildRegions(oRHSSection);// close region markupsMarkup += ' ';return sMarkup;}function buildRegions(oRHSSection) {// all current hrefs are for SEO only, the hrefs are not used for assembling search url's when the search button is clickedvar sMarkup = '',sRegionRootURL = null;// Loop build regionsfor (var i = 0; i  <  oRHSSection.regions.length; i++) {var oRegion = oRHSSection.regions[i];// Handle optional regionRoot urlsRegionRootURL = getRegionRootURL(oRHSSection);// build liif (oRegion.parent.hasOwnProperty('hidden')  & &  oRegion.parent.hidden) {//continue;sMarkup += ' ';} else {sMarkup += ' ';}// build parent// example:  South West of England senseCheckDataProperty(oRegion.parent, 'oRHSSection.parent', 'label', 'string');// sMarkup += ' ' + oRegion.parent.label + ' ';if(oRegion.parent.hasOwnProperty("noChildren")  & &  oRegion.parent.noChildren) {sMarkup += " " + oRegion.parent.label + " "} else {sMarkup += ' ' + oRegion.parent.label + ' ';// loop build locationsif (senseCheckDataProperty(oRegion, String('oRHSSection.regions[' + i + ']'), 'list', 'array')) {for (var j = 0; j  <  oRegion.list.length; j++) {// variable data format for location, can be either a string or an objectvar vLocation = oRegion.list[j];sMarkup += ' ' + vLocation.label + ' ';if (vLocation.hasOwnProperty('propCount')){sMarkup += ' '+vLocation.propCount+' '}} else {// assemble hrefsMarkup += 'href="'+ m_sWebsiteRoute + sRegionRootURL + '/' + createURLFromLabel(vLocation.label) + '" ';sMarkup += '>' + vLocation.label + ' ';}sMarkup += ' ';}}// Close ul and lisMarkup += ' ';}}return sMarkup;}function initRHS() {m_bRHSInit = true;document.getElementById('rhsCancelBtn').addEventListener('click', function (oEvent) {FreeTextSearchHandler.regionsContainerClosed();handleClick(oEvent, m_oRegionsContainer);});m_oRegionsContainer.addEventListener('mouseup', function (oEvent) {stopAndPreventDefault(oEvent);}, true);// select child regionsvar oaRegionChildren = document.querySelectorAll('#regions a:not(.gsw-global-nav-parent)');// apply function to each regionfor (var i = 0; i  <  oaRegionChildren.length; i++) {oaRegionChildren[i].addEventListener('click', function (oEvent) {stopAndPreventDefault(oEvent);// run region functionality when clickedselectRegion(this);m_oRegionsContainer.style.display = 'none';// mobileif (document.documentElement.clientWidth  < = m_iMobileLandscapeMaxWidth) {toggleFixBody(false);}});}// select parent regionsvar oaRegionParents = document.querySelectorAll('#regions .gsw-global-nav-parent');// apply function to each parent regionfor (var i = 0; i  <  oaRegionParents.length; i++) {oaRegionParents[i].addEventListener('click', function (oEvent) {stopAndPreventDefault(oEvent);if (document.documentElement.clientWidth  < = m_iMobileLandscapeMaxWidth || m_bRHSAsDropdownClass !== '') { // mobilevar iHeightOfPreviousOpenLevel1 = getHeightOfPreviousOpenLevel1(this);// Toggle sub regions$('.gsw-level-1').removeClass('active'); // remove all active classes$('.gsw-global-nav-parent').not(this).removeClass('active'); // remove all active classes$(this).next('.gsw-level-1').addClass('active'); // add active class to current$(this).parents('.gsw-region-container').find('.gsw-level-1:not(.active)').slideUp(); // close previously open$(this).next('.gsw-level-1').slideToggle(); // toggle current// Set active class on current nav parentif (!this.classList.contains('active')) {this.classList.add('active');} else {this.classList.remove('active');}var oChild = this,iTopPosOffset = 0,iChildTopPos = 0;if (m_oOptions.enableFreeTextSearch) {iTopPosOffset = (document.documentElement.clientWidth  < = m_iMobileLandscapeMaxWidth) ? 60 : 53;} else {if (document.documentElement.clientWidth > m_iMobileLandscapeMaxWidth) { iTopPosOffset = 53; }}iChildTopPos = Math.max(0, oChild.offsetTop - m_oRegions.offsetTop - iHeightOfPreviousOpenLevel1 + iTopPosOffset);scrollIntoPosition(m_oRegions, iChildTopPos, true);}});}// create results div if free-text search is enabledif (m_oOptions.enableFreeTextSearch) {FreeTextSearchHandler.createSearchOutput();}changeRHS();}function getHeightOfPreviousOpenLevel1(oThat) {var oThisParentLI = oThat.parentNode,oPreviousParentLI = null,oPreviousExpandedLevel1UL = null,iThisParentLIIndex = parseInt(oThisParentLI.getAttribute('data-index'), 10); // get the index of this liif (iThisParentLIIndex === 0) {return 0};// is not the first item// check if any previous li's are expandedoPreviousExpandedLevel1UL = m_oSelectedRegion.querySelector('.gsw-level-1.active');if (!oPreviousExpandedLevel1UL) {return 0};oPreviousParentLI = oPreviousExpandedLevel1UL.parentNode;if (oPreviousParentLI === oThisParentLI) {return 0}; // previous LI must not be the current LIif (iThisParentLIIndex  < = parseInt(oPreviousParentLI.getAttribute('data-index'), 10)) {return 0}; // oThisParentLI must be after the previous in the markup// return the height of the previous gsw-level-1 ulreturn oPreviousExpandedLevel1UL.offsetHeight;}function selectDefaultRegion() {if (m_oOptions  & &  m_oOptions.hasOwnProperty('defaultSelectedRegionId')) {if (m_oOptions.defaultSelectedRegionId !== null){senseCheckDataProperty(m_oOptions, 'm_oOptions', 'defaultSelectedRegionId', 'number');// get reference to the span with the region id in RHS dataselectRegion(document.querySelector('#global-search-widget #regions [data-region-id="' + m_oOptions.defaultSelectedRegionId + '"]'));if (m_oOptions.enableFreeTextSearch) {m_oFreeTextInput.setAttribute('data-using-defaultRegionID', "true");} else {m_oRegionSelect.setAttribute('data-using-defaultRegionID', "true");}}} else {if (!m_bUseSearchRetention) {resetRegionSelect();resetFreeTextInput();}}m_sinitialCachedBrand = m_oRegionRootSelect.value;}// END RHS Data Handling// **************************************************************************************function addResizeHandler() {// handles resizing of the page// set initial value of m_sResizeTypeif (document.documentElement.clientWidth  < = m_iMobileLandscapeMaxWidth) { // mobilem_sResizeType = 'mobile';}window.addEventListener('resize', function (oEvent) {if (!m_oOptions || !m_bRHSInit) {return false} // app must be initialised before a resize event can processvar bCanResize = false;// Handle resize mode flip flopping so the work (DOM Rendering) is not triggered constantlyif (document.documentElement.clientWidth > m_iMobileLandscapeMaxWidth) { // desktopif (m_sResizeType === 'mobile') {bCanResize = true;}m_sResizeType = 'desktop';} else { // mobileif (m_sResizeType === 'desktop') {bCanResize = true;}m_sResizeType = 'mobile';}if (bCanResize) {handleRegionRootControlVisibility();DatepickerHandler.reset();handleDesktopDocumentMouseListeners();handleRegionDisplay();closeAllUIPanels();}})}var FreeTextSearchHandler = function() {var m_sInput = '',m_iWebsiteId = null,m_bRHSHidden = false,m_oParentMethods = null,m_bHaltRequestHandler = false,m_bFreeTextInputValid = false,m_oRegionsPanelOpen = false,m_oFreeTextSearchOutput = null,m_oFreeTextSearchOutputInner = null,m_oRequestHandlerTimout = null,m_sDefaultPlaceholder = 'Enter destination or property name',m_sInstructionalPlaceholder = 'Start typing here or select below',m_oFreeTextCloseBtn = document.getElementById('gsw-freetext-close-btn'),m_oFreeTextClearBtn = document.getElementById('gsw-freetext-clear-btn');// PUBLICfunction fnInit(oParentMethods) {m_oParentMethods = oParentMethods;fnCreateSearchOutput();if (m_oOptions.freeTextSearch.hasOwnProperty('websiteId')) {senseCheckDataProperty(m_oOptions.freeTextSearch, 'm_oOptions.freeTextSearch', 'websiteId', 'number');m_iWebsiteId = m_oOptions.freeTextSearch.websiteId;}m_oRegionSelect.style.display = 'none';m_GSW.classList.add('free-text-search-enabled');document.getElementById('free-text-search-container').style.display = 'block';addEventListeners();}function fnCreateSearchOutput() {if (m_oRegions  & &  !m_oFreeTextSearchOutput) { // m_oRegions has been created and the output has not yet been createdm_oFreeTextSearchOutput = document.createElement('div');m_oFreeTextSearchOutput.id = 'gsw-free-text-search-output';m_oFreeTextSearchOutputInner = document.createElement('div');m_oFreeTextSearchOutputInner.id = 'gsw-free-text-search-output-inner';m_oFreeTextSearchOutput.appendChild(m_oFreeTextSearchOutputInner);m_oRegions.insertBefore(m_oFreeTextSearchOutput, m_oRegions.firstChild);}}function fnSelectRegion(sLinkText, sDataUrl, bFromRHS) {m_oFreeTextInput.value = sLinkText;m_oFreeTextInput.setAttribute('data-value', sLinkText);if (bFromRHS) {m_oFreeTextInput.setAttribute('data-rhs-search', 'true');}if (sDataUrl) {m_oFreeTextInput.setAttribute('data-url', sDataUrl);} else {m_oFreeTextInput.removeAttribute('data-url');}fnRegionsContainerClosed();}function fnRegionsContainerOpened() {m_oRegionsPanelOpen = true;}function fnRegionsContainerClosed() {m_oRegionsPanelOpen = false;fnApplyMatchedInputString();m_oFreeTextCloseBtn.style.display = 'none';m_oFreeTextIcon.style.display = 'none';toggleClearButton(false);m_oFreeTextInput.setAttribute('placeholder', m_sDefaultPlaceholder);m_oFreeTextInput.blur();}function fnApplyMatchedInputString() {if (!m_oOptions.enableFreeTextSearch) { return false; } // freetext not enabledif (m_bFreeTextInputValid) { return true; } // already valid, no need to check againvar sInputValue = m_oFreeTextInput.value.toLowerCase().trim();if (sInputValue !== '') { // has been set// check freetext-rhs-locationsif (checkFreeTextMatch(document.getElementById('freetext-rhs-locations'), sInputValue)) { return true; }// check freetext-geo-locationsif (checkFreeTextMatch(document.getElementById('freetext-geo-locations'), sInputValue)) { return true; }// check freetext-rhs-accom-1if (checkFreeTextMatch(document.getElementById('freetext-rhs-accom-1'), sInputValue)) { return true; }// check freetext-rhs-accom-2if (checkFreeTextMatch(document.getElementById('freetext-rhs-accom-2'), sInputValue)) { return true; }}return false;}function checkFreeTextMatch(oOutputListSection, sInputValue) {if (typeof(oOutputListSection) === 'undefined' || !oOutputListSection) {return false;}var oaOutputListResults = oOutputListSection.querySelectorAll('a');for (var i = 0; i  <  oaOutputListResults.length; i++) {var sAddressShort = oaOutputListResults[i].getAttribute('data-addressShort'), // only set for geo results (already trimmed)sAddressShortSanitised = null,sAddress = decodeURI(oaOutputListResults[i].getAttribute('data-address')).toLowerCase().trim();sResult = (typeof(sAddressShort) !== 'undefined'  & &  sAddressShort  & &  sAddressShort !== '') ? sAddressShort.toLowerCase() : oaOutputListResults[i].innerHTML.toLowerCase().trim(),sResultSanitised = null;if (typeof(sAddressShort) !== 'undefined'  & &  sAddressShort  & &  sAddressShort !== '') {sAddressShortSanitised = oaOutputListResults[i].getAttribute('data-addressShort').replace(/[.*+^'${},. @';:#~!£$()|[\]\\]/g, ''), // only set for geo results (already trimmed)sResultSanitised = (typeof(sAddressShortSanitised) !== 'undefined'  & &  sAddressShortSanitised  & &  sAddressShortSanitised !== '') ? sAddressShortSanitised.toLowerCase() : sResult;}if (sResult.indexOf(sInputValue) > -1 || sResult.indexOf(sInputValue + ' ') > -1 || sInputValue === sAddress) { // found a matchselectFreeTextRegion(oaOutputListResults[i]);return true;break;} else if (sResultSanitised  & &  sResultSanitised.indexOf(sInputValue) > -1 || sResultSanitised.indexOf(sInputValue + ' ') > -1) {selectFreeTextRegion(oaOutputListResults[i]);return true;break;}}return false;}function fnGetDestinationSearchData() {return {'value': m_oFreeTextInput.value,'data-value': m_oFreeTextInput.getAttribute('data-value'),'data-url': m_oFreeTextInput.getAttribute('data-url'),'data-rhs-search': m_oFreeTextInput.getAttribute('data-rhs-search'),'data-directLink': m_oFreeTextInput.getAttribute('data-directLink'),'data-geoSearch': m_oFreeTextInput.getAttribute('data-geoSearch'),'useDefaultRegionID': m_oFreeTextInput.getAttribute('data-using-defaultRegionID') === 'true' ? true : false,'isFreeText': true};}function fnSetDestinationFromStoredSearch() {var oDestination = getStoredSearchValue('destination');if (!oDestination) { return false; }if (!oDestination.isFreeText) { return false; }// Check data-url is storedvar vDataURL = oDestination['data-url'];var vDataValue = oDestination['data-value'];var vDataValueUrlFormatted = vDataValue.replace(/ &  /g, '').replace(/ /g, '-').toLowerCase();if (vDataURL  & &  vDataURL !== '') {// Check stored url is present in window locationif (window.location.href.indexOf(vDataURL) !== -1) {m_bFreeTextInputValid = true;// Update free text input value and attributesm_oFreeTextInput.value = oDestination['value'];setOrRemoveInputAttributeFromStoredData('data-value', oDestination);setOrRemoveInputAttributeFromStoredData('data-url', oDestination);if (oDestination['useDefaultRegionID']) {m_oFreeTextInput.setAttribute('data-using-defaultRegionID', true);m_oFreeTextInput.setAttribute('data-rhs-search', true);} else {setOrRemoveInputAttributeFromStoredData('data-rhs-search', oDestination);}setOrRemoveInputAttributeFromStoredData('data-directLink', oDestination);setOrRemoveInputAttributeFromStoredData('data-geoSearch', oDestination);}} else if (vDataValue  & &  vDataValue !== '') {// attempt to retain for searches without data-url// checked stored value is in URLif (window.location.href.indexOf(vDataValueUrlFormatted) > -1) {if (m_oRegionSelect.querySelector('span')) {m_oRegionSelect.querySelector('span').innerHTML = vDataValue;} else {m_oRegionSelect.innerHTML = vDataValue;}m_oRegionSelect.setAttribute('data-value', vDataValue);m_oRegionSelect.setAttribute('data-url', vDataValueUrlFormatted);}}}function setOrRemoveInputAttributeFromStoredData(sName, oData) {if (oData[sName]) {m_oFreeTextInput.setAttribute(sName, oData[sName]);} else {m_oFreeTextInput.removeAttribute(sName);}}// PRIVATEfunction addEventListeners() {m_oFreeTextInput.addEventListener('keyup', freeTextKeyUp);m_oFreeTextInput.addEventListener('click', function (oEvent) {if (!m_oRegionsPanelOpen) {if (document.documentElement.clientWidth > m_iMobileLandscapeMaxWidth) {m_oFreeTextInput.focus();} else {// stop keyboard showing on mobile when first openingm_oFreeTextInput.blur();}m_oFreeTextCloseBtn.style.display = 'block';if (document.documentElement.clientWidth  < = m_iMobileLandscapeMaxWidth) {m_oFreeTextIcon.style.display = 'block';}if (m_oFreeTextInput.getAttribute('data-rhs-search') !== 'true') {  // free text input value has not come from an RHS select region// perform a freetext searchsearchForString(m_oFreeTextInput.value);} else {handleDisplayOfClearButton(m_oFreeTextInput.value.trim().length);if (m_oRegionsContainer.style.display === 'none') {m_oParentMethods.openRegionsContainer();}}m_oFreeTextInput.setAttribute('placeholder', m_sInstructionalPlaceholder);}});m_oFreeTextCloseBtn.addEventListener('click', function (oEvent) {closeRegionsContainer();});m_oFreeTextClearBtn.addEventListener('click', function (oEvent) {oEvent.stopPropagation();oEvent.stopImmediatePropagation();m_bFreeTextInputValid = false;m_bHaltRequestHandler = false; // enable ajax requeststoggleClearButton(false);clearOutFreeTextInputSearchAttributes();m_oFreeTextInput.value = '';m_oFreeTextInput.focus();clearSearchOutput();m_oFreeTextInput.setAttribute('data-rhs-search', 'true');toggleRHS(true);if(m_oRegionRootSelect.disabled) {m_oRegionRootSelect.disabled = false;document.querySelector("#global-search-widget .disable-overlay").style.display = "none";}});// prevent default mouseupm_oFreeTextInput.addEventListener('mouseup', function (oEvent) {oEvent.stopPropagation();oEvent.stopImmediatePropagation();oEvent.preventDefault();});m_oFreeTextClearBtn.addEventListener('mouseup', function (oEvent) {oEvent.stopPropagation();oEvent.stopImmediatePropagation();oEvent.preventDefault();}, true);}function clearOutFreeTextInputSearchAttributes(bForceClear) {if (m_oFreeTextInput.getAttribute('data-rhs-search') !== 'true' || bForceClear) { // free text input value has not come from an RHS select regionm_oFreeTextInput.setAttribute('data-url', '');m_oFreeTextInput.removeAttribute('data-rhs-search');}m_oFreeTextInput.removeAttribute('data-directLink');m_oFreeTextInput.removeAttribute('data-geoSearch');m_oFreeTextInput.setAttribute('data-value', 'all-regions'); // set back to all regions}function toggleRHS(bToggle) {if (m_bRHSHidden !== !bToggle) { // prevent constant setting to the same valuem_bRHSHidden = !bToggle;var oaRegionContainers = document.querySelectorAll('.gsw-region-container');for (var i = 0; i  <  oaRegionContainers.length; i++) {if (bToggle) {oaRegionContainers[i].classList.remove('gsw-hide');} else {oaRegionContainers[i].classList.add('gsw-hide');}}}}function freeTextKeyUp(oEvent) {var iKeyCode = (oEvent.keyCode ? oEvent.keyCode : oEvent.which);if (iKeyCode == 13) { // return key pressed do nothing except close the regions containercloseRegionsContainer();toggleFixBody(false);return false;}if (typeof hj === "function") {if (hjFreeTextRecording === false){hj('tagRecording', ['GSW-FreeTextSearch']);hjFreeTextRecording = true;}}searchForString(m_oFreeTextInput.value);}function searchForString(sString) {m_bFreeTextInputValid = false;m_bHaltRequestHandler = false; // enable ajax requestsm_sInput = sString.trim();var iMinInputLength = 3,iInputLength = m_sInput.length;clearOutFreeTextInputSearchAttributes(true);handleDisplayOfClearButton(iInputLength);if (m_oRegionsContainer.style.display === 'none') {m_oParentMethods.openRegionsContainer();}if (iInputLength  <  iMinInputLength) {if (iInputLength === 0) { // used to set back to all region search handlingm_oFreeTextInput.setAttribute('data-rhs-search', 'true');}m_oFreeTextInput.setAttribute('data-url', '');clearSearchOutput();toggleRHS(true);return false;} else {toggleRHS(false);}killRequestHandlerTimeout();m_oRequestHandlerTimout = setTimeout(fireRequestHandler, 100);}function killRequestHandlerTimeout() {if (m_oRequestHandlerTimout) {clearTimeout(m_oRequestHandlerTimout);m_oRequestHandlerTimout = null;}}function handleDisplayOfClearButton(iInputLength) {if (iInputLength > 0) {toggleClearButton(true);} else if (iInputLength === 0) {toggleClearButton(false);}}function setSearchOutput(sHTML) {m_oFreeTextSearchOutputInner.innerHTML = sHTML;addSearchValueClickListeners();m_oFreeTextSearchOutput.style.display = 'block';}function clearSearchOutput() {m_oFreeTextSearchOutput.removeAttribute('style');m_oFreeTextSearchOutputInner.innerHTML = '';}function toggleClearButton(bToggle) {if (bToggle) {if (m_oFreeTextClearBtn.style.display !== 'block') {m_oFreeTextClearBtn.style.display = 'block';m_oFreeTextInput.classList.add('clear-btn-enabled');}} else {m_oFreeTextClearBtn.removeAttribute('style');m_oFreeTextInput.classList.remove('clear-btn-enabled');}}function getProductDetailsPageName(iWebsiteId) {var sPDPageName = 'product-details-page-name'; // defaultswitch (iWebsiteId) {case 15944 : // Hos lodgessPDPageName = 'lodges';break;case 15943 : // Hos parkssPDPageName = 'holiday-parks';break;case 15951 : // Hos cottagescase 35534 : // Mulberrycase 18396 : // CottagessPDPageName = 'cottages';break;case 15979 : // Hos boatssPDPageName = 'boat-holidays';break;case 15947 : // Hos city breakssPDPageName = 'city-breaks';break;case 15949 : // Hos eu parkssPDPageName = 'holiday-parks-in-europe';break;case 31309 : // Bluechipcase 23070 : // partnerssPDPageName = ''; // no product detail pagenamebreak;}return sPDPageName;}function fireRequestHandler() {var _charMap = {'ä': 'a','á': 'a','à': 'a','â': 'a','ç': 'c','é': 'e','è': 'e','ê': 'e','ë': 'e','î': 'i','ï': 'i','ì': 'i','í': 'i','ô': 'o','ó': 'o','ò': 'o','ö': 'o','œ': 'oe','ù': 'u','û': 'u','ü': 'u','ÿ': 'y','y': 'y','ý': 'y','?': 'y'};String.prototype.latinise = function () {if (this.toString().indexOf("squirrel'") > -1) {return this.toString().replace("squirrel'", "squirrel ");} else {return this.replace(/[^A-Za-z0-9\[\] ]/g, function (a) {return _charMap[a] || a;});}};if (m_bHaltRequestHandler) {return false;}// If a websiteId has been passed in m_oOptions.freeTextSearch, then use that as the overiding websiteId, otherwise default to using the value of the selected child element of m_oRegionRootSelectvar iWebsiteId = m_iWebsiteId || parseInt(m_oRegionRootSelect.children[m_oRegionRootSelect.selectedIndex].value, 10),sWebsiteName = getProductDetailsPageName(iWebsiteId),sSupplier = (m_oOptions.supplierResults == true) ? ' =SUPPLIER' : '';var sURL                  = '/HoseasonsRequestHandler.ashx?method=SEARCH--NODE-SEARCH',sNodes                  = ' =' + m_oOptions.rhsSearch + sSupplier + ' =PROPERTY',sDuplicates             = ' =False',sTerm                   = ' =' + encodeURIComponent(m_sInput.latinise().replace("'",' ').replace("’",' ')),sWebsiteId              = ' =' + iWebsiteId,sMaxResults             = ' =11',sCountryLevel           = ' =0',sProductDetailsPageName = ' =%2F' + sWebsiteName,sMapResult              = ' =False',sFullURL = sURL + sNodes + sDuplicates + sTerm + sWebsiteId + sMaxResults + sCountryLevel + sProductDetailsPageName + sMapResult;$.ajax({'url': sFullURL,'type': 'GET','dataType': 'json','success': function(data){// Exclude strings from free text resultsif (!m_oOptions.freeTextExclude) {data = checkForExcludedStrings(data);}if (m_bHaltRequestHandler) {return false;}var sHTML = '',bHasIndex0 = false,bHasIndex1 = false,bHasIndex2 = false,bHasIndex3 = false;/* Remove Uk */(function() {/* find index of google */var nodeSearch = 'google',regionSearch = 'United Kingdom';for(var nodeIndex = 0, len = data.length; nodeIndex  <  len; nodeIndex++) {if (data[nodeIndex].Node === nodeSearch) {break;}}if(nodeIndex === len) return;/* find index of uk */for(var regionIndex = 0, len = data[nodeIndex].Records.length; regionIndex  <  len; regionIndex++) {if (data[nodeIndex].Records[regionIndex].formatted_address === regionSearch) {break;}}if (regionIndex === len) return;data[nodeIndex].Records.splice(regionIndex, 1);})();/* Remove Duplicates */var duplicateIDs = {};data.reduce(function(acc,v){return acc.concat(v.Records)},[]).map(function(v){return v.RecordID}).filter(function(v,i,arr){return v}).forEach(function(v,i){if(typeof duplicateIDs[v] != 'undefined'){duplicateIDs[v]+=1;}else{duplicateIDs[v]=0;}})data.forEach(function(v,i,arr){v.Records = v.Records.filter(function(v){var duplicateRecordID = duplicateIDs[v.RecordID]var isDuplicate = duplicateRecordID>0;if(isDuplicate){duplicateIDs[v.RecordID]-=1;}return !isDuplicate;})})$.each(data,function(index,value){if (value['Records']) {if (value['Node'] === 'node1'  & &  value['Records'].length > 0) {sHTML += ' ';$.each(value['Records'], function(iRecordIndex, sRecordValue) {if (!bHasIndex0) { // first runbHasIndex0 = true;sHTML += ' Locations ';}var iGazetteerIndex = sRecordValue['Link'].indexOf('list-search-results'),sLink = (iGazetteerIndex > -1) ? '/' + sWebsiteName + '/' + sRecordValue['Link'] : '/' + sRecordValue['Link'];sHTML += createSearchOutputHTML(sRecordValue, sLink, null);});sHTML += ' ';} else if (value['Node'] === 'node2'  & &  value['Records'].length > 0) {sHTML += ' ';$.each(value['Records'], function(iRecordIndex, sRecordValue){if (!bHasIndex1) {bHasIndex1 = true;if (bHasIndex0) {sHTML += ' ';}sHTML += ' Accommodation ';}sHTML += createSearchOutputHTML(sRecordValue, null, null);});sHTML += ' ';} else if (value['Node'] === 'node3'  & &  value['Records'].length > 0) {var propRefMatch = "",propArray = [];sHTML += ' ';$.each(value['Records'], function(iRecordIndex, sRecordValue){if (!bHasIndex2  & &  !bHasIndex1) {bHasIndex2 = true;if (bHasIndex0) {sHTML += ' ';}sHTML += ' Accommodation ';}//Perfect Match of Prop Refif ((m_sInput === sRecordValue.Key) || (m_sInput === sRecordValue.RecordID)){propRefMatch = sRecordValue} else {propArray.push(sRecordValue)}});if (propRefMatch !== ""){sHTML += createSearchOutputHTML(propRefMatch, null, null);}if (propArray.length){for (var i=0; i ';}if (value['Node'] === 'google'  & &  m_oOptions.disableGoogleAPI !== true) {if (value['Records']  & &  value['Records'].length > 0) {sHTML += ' ';$.each(value['Records'],function(iRecordIndex, sRecordValue){if (sRecordValue.geometry.location_type !== "ROOFTOP"){if (!bHasIndex3) {bHasIndex3 = true;sHTML += ' Locations ';}sHTML += createSearchOutputHTML(sRecordValue, null, true);}});if (bHasIndex2) {sHTML += ' ';}sHTML += ' ';}} else if (m_oOptions.disableGoogleAPI == true  & &  !bHasIndex0  & &  !bHasIndex2  & &  !bHasIndex1) {fnFailedFreeTextSearch();}}});if (sHTML !== '') {setSearchOutput(sHTML);} else {fnFailedFreeTextSearch();}},'error' : function(oError){if (m_bHaltRequestHandler) {return false;}//console.log('There was an error:');//console.log(oError);fnFailedFreeTextSearch(true);}});}function fnFailedFreeTextSearch(bError) {m_bHaltRequestHandler = true;clearSearchOutput();if (bError) {setSearchOutput(' Sorry, something went wrong, please try again. ');} else {var message = "Sorry, no accommodations found in '" + m_oFreeTextInput.value + "' Please try searching for another location or select a popular destination below."// Blue Chip onlyif(window.location.hostname.indexOf('www.bluechipholidays.co.uk') > -1) {var output = " " +" Cornwall " +" Devon " +" Dorset " +" Isle of Wight " +" "setSearchOutput(" " + message + output + " ")$(".gsw-no-result-link").on("click", function() {selectRegion($(this)[0]);closeRegionsContainer();clearSearchOutput();m_bFreeTextInputValid = false;m_bHaltRequestHandler = false; // enable ajax requeststoggleClearButton(false);clearOutFreeTextInputSearchAttributes();m_oFreeTextInput.setAttribute('data-rhs-search', 'true');toggleRHS(true);})} else {setSearchOutput(" " + message + " ")}}m_oFreeTextInput.setAttribute('data-value', 'All regions');}function createSearchOutputHTML(sRecordValue, sLink, bGeoSearch) {var sHTML = ' ';if (bGeoSearch) {var sAddressFirstPart = sRecordValue['formatted_address'].split(',')[0].trim();sHTML += ' ';sHTML += sRecordValue['formatted_address'];} else {if (sLink) {sHTML += ' ';} else { // assume direct linksLink = sRecordValue['Link'].replace(/^\/\/|^\//, ""); // replace only the first character if it is a '/' or '//'// prepend product details name if not presentvar productDetailsPageName = getProductDetailsPageName(m_iWebsiteId);var productDetailsRegExp = new RegExp('^'+productDetailsPageName);if(!productDetailsRegExp.test(sLink)){sLink = productDetailsPageName+'/'+sLink;}//S Mulberry Fix (server returning 'product-details-page-name')switch(m_iWebsiteId){case 35534:sLink = sLink.replace('product-details-page-name','cottages');break;case 23070:sLink = sLink.replace('cottages','cottages');break;}// //E Mulberry FixsHTML += ' ';}sHTML += sRecordValue['DisplayText'];}sHTML += ' ';//console.log(sRecordValue);return sHTML;}function addSearchValueClickListeners() {var oaSearchValues = document.querySelectorAll('.gsw-freetext-search-value');for (var i = 0; i  <  oaSearchValues.length; i++) {oaSearchValues[i].addEventListener('click', function (oEvent) {stopAndPreventDefault(oEvent);// run region functionality when clickedselectFreeTextRegion(this);closeRegionsContainer();clearSearchOutput();toggleRHS(true);// CDC onlyif(window.location.hostname.split(".")[1] === "cottages") {if(!!oEvent.target.dataset.geosearch) {document.querySelector("#global-search-widget .disable-overlay").style.display = "block";m_oRegionRootSelect.disabled = true;} else {m_oRegionRootSelect.disabled = false;document.querySelector("#global-search-widget .disable-overlay").style.display = "none";var sUrl = oEvent.target.href.replace(window.location.origin, "");if(sUrl.charAt(0) === "/") {sUrl = sUrl.substring(1);}for(var i = 0; i  <  m_oRegionRootSelect.childElementCount; i++) {if(m_oRegionRootSelect.children[i].dataset.url === sUrl.split("/")[0]) {m_oRegionRootSelect.value = m_oRegionRootSelect.children[i].value;}}}}// mobileif (document.documentElement.clientWidth  < = m_iMobileLandscapeMaxWidth) {toggleFixBody(false);}});}}function closeRegionsContainer() {m_oParentMethods.toggleElement(m_oRegionsContainer, false);toggleClearButton(false);}function selectFreeTextRegion(oElement) {m_bFreeTextInputValid = true;m_oFreeTextInput.removeAttribute('data-rhs-search');m_oFreeTextInput.removeAttribute('data-using-defaultRegionID');if (oElement.getAttribute('data-directLink') === 'true') {m_oFreeTextInput.value = oElement.innerHTML.split(',',2);// m_oFreeTextInput.value = oElement.innerHTML.split(/,(.+)/)[0,1].trim();m_oFreeTextInput.setAttribute('data-directLink', 'true');} else {m_oFreeTextInput.value = oElement.dataset.address.replace(/%20/g,' ').trim();}if (oElement.getAttribute('data-geoSearch') === 'true'){m_oFreeTextInput.setAttribute('data-geoSearch', 'true');}m_oFreeTextInput.setAttribute('data-url', oElement.getAttribute('href'));toggleClearButton(false);}return {init: fnInit,createSearchOutput: fnCreateSearchOutput,selectRegion: fnSelectRegion,regionsContainerOpened: fnRegionsContainerOpened,regionsContainerClosed: fnRegionsContainerClosed,applyMatchedInputString: fnApplyMatchedInputString,failedFreeTextSearch: fnFailedFreeTextSearch,getDestinationSearchData: fnGetDestinationSearchData,setDestinationFromStoredSearch: fnSetDestinationFromStoredSearch}}();// **************************************************************************************// Utility Methodsfunction toggleSearchBtnSearchingState(bToggle) {if (bToggle) {m_oSearchButton.className = 'searching'; // Apply the searching class to the buttonm_oSearchButton.querySelector('.search-text').innerText = m_sFindingLabel;} else {m_oSearchButton.classList.remove('searching');m_oSearchButton.querySelector('.search-text').innerText = m_sSearchLabel;}}function toggleLockUI(bToggle) {if (bToggle) {m_GSW.classList.add('lock-ui');} else {m_GSW.classList.remove('lock-ui');}}function closeAllUIPanels() {toggleElement(m_oDateContainer, false);toggleElement(m_oRegionsContainer, false);toggleElement(m_oPartyStepperContainer, false);toggleFixBody(false);}function handleRegionDisplay() {if (document.documentElement.clientWidth  < = m_iMobileLandscapeMaxWidth || m_bRHSAsDropdownClass !== '') { // mobile or RHSAsDropdowntoggleAllRegions(false);} else {toggleAllRegions(true);}}function getRegionRootURL(oRHSSection) {// Handle optional regionRoot urlif (oRHSSection.regionRoot.hasOwnProperty('url')) {return oRHSSection.regionRoot.url;} else {return createURLFromLabel(oRHSSection.regionRoot.label);}}function createURLFromLabel(sLabel) {return sLabel.replace(/\s/g, '-').replace(' & -', '').toLowerCase();}function setRegionSelectDataUrlFromId(sValue) {// set data-url property based on the value of the selected option (IE doesn't support select.selectedOptions)for (var i = 0; i  <  m_oRegionRootSelect.children.length; i++) {if (m_oRegionRootSelect.children[i].getAttribute('value') === sValue) {m_oRegionRootSelect.setAttribute('data-url', m_oRegionRootSelect.children[i].getAttribute('data-url'));// Set data-all-regions urlvar sSelectDataAllRegionsURL = m_oRegionRootSelect.children[i].getAttribute('data-all-regions-url'),sDataAllRegionsURL;if (sSelectDataAllRegionsURL  & &  typeof (sSelectDataAllRegionsURL) !== 'undefined'  & &  sSelectDataAllRegionsURL !== '') {// Make sure that when resetting back to default that we also set the data-url property for All regions (ie if a different url is used in place of 'all-regions')sDataAllRegionsURL = m_oRegionRootSelect.children[i].getAttribute('data-url');} else {sDataAllRegionsURL = 'all-regions';}m_oRegionRootSelect.setAttribute('data-all-regions', sDataAllRegionsURL);// End Set data-all-regions urlbreak;}}}function senseCheckDataProperty(oData, sDataName, sProperty, sType) {if (!oData.hasOwnProperty(sProperty)) {throw new Error(sDataName + ' must contain the property \'' + sProperty + '\'');} else {if (sType === 'array') {if (!Array.isArray(oData[sProperty])) {throw new Error(sDataName + '.' + sProperty + ' must be of type ' + sType);}} else {if (typeof (oData[sProperty]) !== sType) {throw new Error(sDataName + '.' + sProperty + ' must be of type ' + sType);}}}return true;}function scrollIntoPosition(oElement, iScrollPosition, bAnimate) {if (bAnimate) {// JQuery animate method is very janky. The animation of the scroll can be optimised to use GPU in time$(oElement).animate({ scrollTop: iScrollPosition }, 500);} else {oElement.scrollTop = iScrollPosition;}}function scrollGSWIntoView(oEL) {if (m_oOptions.scrollToAnchorEnabled) {if (oEL === m_oRegionsContainer || oEL === m_oDateContainer || oEL === m_oPartyStepperContainer) {// get bottom position of oEL, if its hanging off the bottom of the window, scroll GSW to the topvar oRect = (oEL === m_oRegionsContainer) ? m_oRegions.getBoundingClientRect() : oEL.getBoundingClientRect(),iYOffset = 20,bUseScrollIntoView = false;if (oRect.bottom > window.innerHeight) {if (!fnDetectIEorEdge()) { // The browser is IE or edge, which does not support scrollIntoView, use jQuery animate to scroll the browser/*The browser supports scrollIntoView, check if the API has defined a cssSelector property in the scrollToAnchor object,if so scroll the browser to m_oOptions.scrollToAnchorElement otherwise use jQuery animate to scroll the browser with a pre-defined offset*/if (m_oOptions.scrollToAnchorElement) {bUseScrollIntoView = true;} else {if (typeof(m_oOptions.scrollToAnchorElementUnavailable) === 'undefined' || !m_oOptions.scrollToAnchorElementUnavailable) {setScrollToAnchorElement(); // in case the markup was not available at doc ready, attempt to get the element againif (m_oOptions.scrollToAnchorElement) { // only check once after init for scrollToAnchorElementbUseScrollIntoView = true;} else {// if not found then set m_oOptions.scrollToAnchorElementUnavailable flag to prevent the check for m_oOptions.scrollToAnchorElement from re-occuringm_oOptions.scrollToAnchorElementUnavailable = true;}}}}if (bUseScrollIntoView) {m_oOptions.scrollToAnchorElement.scrollIntoView({behavior: 'smooth', block: "start"});} else {var oScrollingElement = (document.scrollingElement) ? document.scrollingElement : document.documentElement,iScrollPos = Math.round(m_GSW.getBoundingClientRect().top - iYOffset + document.documentElement.scrollTop);scrollIntoPosition(oScrollingElement, iScrollPos, true);}}}}}function stopAndPreventDefault(oEvent) {oEvent.stopPropagation();oEvent.stopImmediatePropagation();oEvent.preventDefault();}function toggleElement(oEL, bVisible) {if (oEL) {if (typeof (bVisible) !== 'undefined') {// optional bVisible is specifed, set to bVisibleif (bVisible) {oEL.style.display = 'block';} else {oEL.style.display = 'none';}if (oEL === m_oRegionsContainer  & &  !bVisible  & &  m_oOptions.enableFreeTextSearch) {m_GSW.classList.remove('gsw-modal');FreeTextSearchHandler.regionsContainerClosed();}} else {// normal toggle behaviourif (oEL.style.display === 'none') {oEL.style.display = 'block';} else {oEL.style.display = 'none';}}setTimeout(function(oEvent) {scrollGSWIntoView(oEL);}, 50);}}function getIsIOS() {return /iPad|iPhone|iPod/.test(navigator.userAgent)  & &  !window.MSStream;}function fnDetectIEorEdge() {var sUa = window.navigator.userAgent,iMSIE = sUa.indexOf('MSIE '), // IE 10iTrident = sUa.indexOf('Trident/'); // IE 11iEdge = sUa.indexOf('Edge'); // Edgeif (iMSIE > 0 || iTrident > 0 || iEdge > 0) { return true; } // IE 10 or below, IE 11 or Edge// other browserreturn false;}function checkForExcludedStrings(data) {$.each(data,function(index,value){value.Records = value.Records.filter(function(value,key){if (value.Link) {var regex = new RegExp('(' + m_oOptions.freeTextExcludeList + ')', 'gi' );return !value.Link.match(regex);} else{return true}})});return data;}// END Utility Methods// **************************************************************************************// **************************************************************************************// Public APIreturn {init: fnInit,setRHSData: fnSetRHSData,setRadiiList: fnSetRadiiList,setDefaultRegionId: fnSetDefaultRegionId};}(); // //  Back to Search Home > England > Norfolk > Great Yarmouth >   Hill House Cottages - Hill House Barn Previous Click to expand images.push({caption: "Caistor Castle | Hill House Cottages - Hill House Cottage, West Caister, nr. Great Yarmouth",src: "https://img.chooseacottage.co.uk/property/937/840/937819.jpg",size: "true"}); Click to expand images.push({caption: "Surrounding area | Hill House Cottages - Hill House Cottage, West Caister, nr. Great Yarmouth",src: "https://img.chooseacottage.co.uk/property/937/840/937820.jpg",size: "true"}); Click to expand images.push({caption: "Exterior | Hill House Cottages - Hill House Barn, West Caister, nr. Great Yarmouth",src: "https://img.chooseacottage.co.uk/property/936/840/936114.jpg",size: "true"}); Click to expand images.push({caption: "Living room | Hill House Cottages - Hill House Barn, West Caister, nr. Great Yarmouth",src: "https://img.chooseacottage.co.uk/property/936/840/936115.jpg",size: "true"}); Click to expand images.push({caption: "Kitchen/diner | Hill House Cottages - Hill House Barn, West Caister, nr. Great Yarmouth",src: "https://img.chooseacottage.co.uk/property/936/840/936116.jpg",size: "true"}); Click to expand images.push({caption: "Kitchen/diner | Hill House Cottages - Hill House Barn, West Caister, nr. Great Yarmouth",src: "https://img.chooseacottage.co.uk/property/936/840/936117.jpg",size: "true"}); Click to expand images.push({caption: "Double bedroom | Hill House Cottages - Hill House Barn, West Caister, nr. Great Yarmouth",src: "https://img.chooseacottage.co.uk/property/936/840/936128.jpg",size: "true"}); Click to expand images.push({caption: "Double bedroom | Hill House Cottages - Hill House Barn, West Caister, nr. Great Yarmouth",src: "https://img.chooseacottage.co.uk/property/936/840/936138.jpg",size: "true"}); Click to expand images.push({caption: "Double bedroom | Hill House Cottages - Hill House Barn, West Caister, nr. Great Yarmouth",src: "https://img.chooseacottage.co.uk/property/936/840/936139.jpg",size: "true"}); Click to expand images.push({caption: "Garden | Hill House Cottages - Hill House Barn, West Caister, nr. Great Yarmouth",src: "https://img.chooseacottage.co.uk/property/936/840/936140.jpg",size: "true"}); Click to expand images.push({caption: "Caistor Castle | Hill House Cottages - Hill House Cottage, West Caister, nr. Great Yarmouth",src: "https://img.chooseacottage.co.uk/property/937/840/937818.jpg",size: "true"}); Click to expand images.push({caption: "Caistor Castle | Hill House Cottages - Hill House Cottage, West Caister, nr. Great Yarmouth",src: "https://img.chooseacottage.co.uk/property/937/840/937819.jpg",size: "true"}); Click to expand images.push({caption: "Surrounding area | Hill House Cottages - Hill House Cottage, West Caister, nr. Great Yarmouth",src: "https://img.chooseacottage.co.uk/property/937/840/937820.jpg",size: "true"}); Click to expand images.push({caption: "Exterior | Hill House Cottages - Hill House Barn, West Caister, nr. Great Yarmouth",src: "https://img.chooseacottage.co.uk/property/936/840/936114.jpg",size: "true"}); Click to expand images.push({caption: "Living room | Hill House Cottages - Hill House Barn, West Caister, nr. Great Yarmouth",src: "https://img.chooseacottage.co.uk/property/936/840/936115.jpg",size: "true"}); Click to expand images.push({caption: "Kitchen/diner | Hill House Cottages - Hill House Barn, West Caister, nr. Great Yarmouth",src: "https://img.chooseacottage.co.uk/property/936/840/936116.jpg",size: "true"}); Click to expand images.push({caption: "Kitchen/diner | Hill House Cottages - Hill House Barn, West Caister, nr. Great Yarmouth",src: "https://img.chooseacottage.co.uk/property/936/840/936117.jpg",size: "true"}); Click to expand images.push({caption: "Double bedroom | Hill House Cottages - Hill House Barn, West Caister, nr. Great Yarmouth",src: "https://img.chooseacottage.co.uk/property/936/840/936128.jpg",size: "true"}); Click to expand images.push({caption: "Double bedroom | Hill House Cottages - Hill House Barn, West Caister, nr. Great Yarmouth",src: "https://img.chooseacottage.co.uk/property/936/840/936138.jpg",size: "true"}); Click to expand images.push({caption: "Double bedroom | Hill House Cottages - Hill House Barn, West Caister, nr. Great Yarmouth",src: "https://img.chooseacottage.co.uk/property/936/840/936139.jpg",size: "true"}); Click to expand images.push({caption: "Garden | Hill House Cottages - Hill House Barn, West Caister, nr. Great Yarmouth",src: "https://img.chooseacottage.co.uk/property/936/840/936140.jpg",size: "true"}); Click to expand images.push({caption: "Caistor Castle | Hill House Cottages - Hill House Cottage, West Caister, nr. Great Yarmouth",src: "https://img.chooseacottage.co.uk/property/937/840/937818.jpg",size: "true"}); Click to expand images.push({caption: "Caistor Castle | Hill House Cottages - Hill House Cottage, West Caister, nr. Great Yarmouth",src: "https://img.chooseacottage.co.uk/property/937/840/937819.jpg",size: "true"}); Click to expand images.push({caption: "Surrounding area | Hill House Cottages - Hill House Cottage, West Caister, nr. Great Yarmouth",src: "https://img.chooseacottage.co.uk/property/937/840/937820.jpg",size: "true"}); Next //Load the first Gallery Image ASAPfunction containsImgSize(str, imageSizeArr) {for (var i = 0; i != imageSizeArr.length; i++) {var size = imageSizeArr[i];if (str.indexOf(size) != - 1) {return size;}}return null;}function loadFirstGalleryImg(){var firstImgToLoad = document.getElementsByClassName('gallery-main-image');for (var i=0; i  400){firstImgToLoad[i].src = firstImgToLoad[i].dataset.lazy.replace(replacement,'/400/');}} else {firstImgToLoad[i].src = firstImgToLoad[i].dataset.lazy;}} else {firstImgToLoad[i].parentElement.style.display = 'none';firstImgToLoad[i].src = 'data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAZAAAAEsCAMAAADaaRXwAAAAgVBMVEX///99fX2twWuvr6+IiIizxnbZ2dnJycmcnJy1x3rW4LWxxHPp6enY4rmSkpLAwMC4uLimpqb4+PjU3rHR0dHw8PDb5L75+vTh6MjB0I/8/fm8zYbP26jm7NHF05b19+zL2KHv8+Lh4eG3yXzy9ujo7taww3Ds8Nze5sPS3a3I1ZuJ4J2xAAAFPElEQVR42uzBgQAAAACAoP2pF6kCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABmz95WXYWhKAxPBnhhwroq5OSZen7/B9y1pRXZe1t6kSqL8YEv4I9JZiQiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiKiD9k8mYLQWZgEQOqETqHLACyP74QO185LjkGKJUldCR0qXAAk47pwXbiVHGlMAby2cztxKzlU5wHMrayaEoAfhL5rfflZIVtFtkRqhL7M5gASI38zGkBuhaLbf+vbVtoIxbadPOb2zVGYU0l86xdwdbLHXbluRbZdrVSQfUH1XLe+4IOBvKofpzCKKf/kymrwAHKhiIB0lI23W4lQRD2UfOIHqVBEGhf5hGKQDQb57RjkZBjkZBjkZBjkZBjkZBjkZNYg1VA4o27MWAwVgxxEw4i0LvcpNlKfjw2DfJ/GfMnw1OskSXo8XWtnZcswSFwad2k5maJpbbixVVOMU3nFQs+FvARrJwaJSwPJPDbyD62r71GuP003XuoyuyY9wCBxadRh/w/IBoPEpvEj/1O5ZeF6SLOynpRxM4PsiDmHhKLEXZ/VZj0GjwyyI16Qrk7uMbzqLI+9++IHCSbDTVoXlnPIO/GDWJUASPIicFJ/L3qQoDQA7wKvTo6hoURWLgVQdrxcPIzGZKsbG5ZR0C85Bt72HkjjoV8GDQC+4vX7oTS2vGsY5EgapVsYlT+n8kxVDHIYDSMvtlMei3pgkD/s28Fu3CAUBdB3A7VR5WKgkDZSusg0StX+/we2D+TBjDyVsohX9ywiBsYs3rWxTTTnO34PeflaL5TnVwZyuh7IqO1iPX9jIKfrgYxe9IHr7ZGBnK8HMnr5o49cLwzkbBrIsV+6w/iZgZxsDGT0qBfJKwP5rxMDaVspb98ZyIn6e8ixHz/bjwqF/zE8ydvD05f7HvUJePjGEwP5WA/vxR99fqzfn96LP4smIiIiIiIiIiIiIiIiInqPGU5kAYIoByuVB7I0swMQs4hBNYlk7ZqlMjDSlAAgTjLOYKDWom2LSRbAbG2RtFoAZhHaBzIBXqQGg7Q1jKjkAL9a/WTg1n+KZMAZ2JtAFgsED6wyzKBHGc1xC6S32zExaLg0BtKKtAJYWm+EFeXgtafkXel9LXoWte+N9UhMwwxtPMCWHoiT1k4WMYnIxCtkDGSGr2Xz1uLSinvxtbC5JTSW3mogt70zbGoJxj5DH3cI10AccmsHeKHDQIy3SSZEV4tYYGVFqGd2HEuvHGDSba9B3ILpM/TxDHsNJMO3tudadRzIChOQxSA7zLXTyAV2O7FTu5e3e8jcVn6sQyDtm2oCUp+hjm/dWyDFYdZ2AnId0THaBWKwTohirZgaiEOui85W5nW1NRDlRKREAPFuIKXPcBjIMsGnayBlDQzkJpCoZ6zNMBK0rAVN6AtRC8TIZonA5e6SNc5gWreXayASUSO2mOtkDOQmEF1CAiyyLl7a1/h+Ux8DaT3z3Zt6n+Hwpr7IAuvbTZ2BHAXikWUCbL9gasnbmuXKbSAh1SJe7jz2XoYZDh57F/0MTFIsIgM5CMRi0j9BJMNLQbsqIlaRUl8MtXz9xdDCBcBJZVCl64vhLMMMelQr/z6QZGvPZIFoeFO/CSS1k7ZWCLYu923I962Tebd1MvvhKatKu62TYYY2HorsA9Gh/dZJFiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiKiv+3BAQkAAACAoP+v+xEqAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwFAXZIujho7eMAAAAASUVORK5CYII=';}}}loadFirstGalleryImg();if (images[0].size != "") {for (i = 0; i  <  images.length; i++) {var bigImg = images[i].src;var bigImgArr = bigImg.split('/');bigImgArr[bigImgArr.length - 2] = 1200;bigImg = bigImgArr[0];for (c = 1; c  <  bigImgArr.length; c++) {bigImg += "/";bigImg += bigImgArr[c];}images[i].src2 = bigImg;}} Hill House Cottages - Hill House Barn West Caister, near Great Yarmouth, Norfolk Grade  Share .st0_1548849599339 {fill-rule: evenodd;clip-rule: evenodd;fill: #0B0B0B;} Customers' choice award 2017 Customers' choice award 2017 This holiday property is just 10 minutes away from the nearest sandy beach, and it boasts stunning views.  Ground floor: Dining room/kitchen with breakfast area, beams and wooden floor. Separate toilet. Steep stairs to first floor: Living room with beams. Shower room with toilet. Steep stairs to second floor: Mezzanine with double bed, sofa bed, beams and low ceiling.  Towels included. Parking (2 cars).  Both properties: Oil central heating, electricity, and bed linen included. Cot and highchair. Freeview TV. DVD. Electric cooker. Shared use of owner s washing machine and freezer in outbuilding. Wi-fi. Shared, large, lawned garden with patio, terrace, sitting-out area and furniture. Welcome pack. No smoking.  Just a 10-minute walk from a sandy beach and backed by dunes and a river, these two holiday properties (refs W43888 and W43889) occupy a perfect location for both relaxing and exploring the amazing Norfolk and Suffolk coastlines, as well as the famous Norfolk Broads. They are nestled within the owner s grounds, perched on a hill top with a glorious view across the marsh to Breydon Water, yet they still retain their own privacy. The quiet lanes offer great walking and cycling opportunities direct from the door. Other attractions on the doorstep include Caister Castle, Filby Broad, Hickling Broad Nature Reserve, boat hire and sailing. Caister-on-Sea (1  miles) has a wide sandy unspoilt beach with grassy dunes, shops, restaurants, caf s, pubs, supermarkets and other amenities. The seaside town of Great Yarmouth (3 miles) offers something for all ages, with its fascinating history and heritage along the quayside, and the seafront with its illuminations, pier, promenades, amusement arcades, fun fair and wide sandy beach. The town centre offers a wealth of retail shops, caf s and restaurants. The city of Norwich (22 miles) for excellent shopping, theatre, castle museum, cathedral, caf s, art galleries and market square. Wroxham (18 miles) capital of the Norfolk Broads, is a great place to visit, with daily boat hire, river trips, riverside restaurants, shops and caf s. Families will love the treetop adventure park at BeWILDerwood, Pleasurewood Hills theme park, Thrigby Wildlife Centre and the Sealife Centre. Yarmouth Stadium (2 miles) stages greyhound racing and regular stockcar racing for a fun night out. Suffolk coastline, an AONB, Walberswick Reserve and the popular seaside towns of Southwold and Aldeburgh are an hour s drive. Shop, pub and restaurant 1 mile.  Content to be added. Please enable javascript to view cottages.com properly. You can find out how to do this by  clicking here . Subscribe to our latest deals  &  offers ABTA-logo   Book with confidence. We are a member of ABTA.  Read full details  of our ABTA membership and where financial protection might apply to your booking.  open 9am-9pm today cottages.com is a trading name of Vacation Rentals (UK) Ltd. Registered in England and Wales.    Registered Office: Spring Mill, Stoney Bank Road, Earby, Lancashire, BB94 0AA, UK    Company Registration Number 00965389. VAT Registration Number: GB 598 22 99 77    Don't miss out on regular holiday offers, accommodation news and update emails fromcottages.com – just enter your name and email address below: Thank you for signing up! You can now look forward to the latest special offers and great deals in your inbox.  ABTA-logo Book with confidence. We are a member of ABTA.  Read full details  of our ABTA membership and where financial protection might apply to your booking.  open 9am-9pm today cottages.com is the new home of cottages4you (Cottages for You). cottages.com is a trading name of Vacation Rentals (UK) Ltd. Registered in England and Wales.     Registered Office: Spring Mill, Stoney Bank Road, Earby, Lancashire, BB94 0AA, UK     Company Registration Number 00965389. VAT Registration Number: GB 598 22 99 77 Our website uses cookies to work. By using our website you accept the use of cookies.  Read our policy. Untitled-1 